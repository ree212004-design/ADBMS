=>NOW GIVE THE BELOW TKINTER CODE IN NOTEPAD AND
SAVE AS banking_system.py IN LOCATION DESKTOP BY GIVING THE FILE TYPE:ALL FILES
=>AFTER SAVING IN DESKTOP DOUBLE CLICK THE FILE 
=>IT WILL ASK PYTHON OR VS CODE GIVE PYTHON
=>IT WILL RUN IN COMMAND PROMPT 
=>ONCE IT COME OUTSIDE AGAIN DOUBLE CLICK THE FOLDER 
OUTPUT IS READY


import sqlite3
import tkinter as tk
from tkinter import messagebox, ttk

# ---------- DATABASE ----------
conn = sqlite3.connect("payroll.db")
cur = conn.cursor()

cur.execute("""
CREATE TABLE IF NOT EXISTS employee(
    emp_id INTEGER PRIMARY KEY,
    name TEXT,
    basic REAL,
    allowance REAL,
    deduction REAL
)
""")
conn.commit()

table_visible = False

# ---------- FUNCTIONS ----------
def add_employee():
    try:
        emp_id = int(entry_id.get())
        name = entry_name.get()
        basic = float(entry_basic.get())
        allowance = float(entry_allowance.get())
        deduction = float(entry_deduction.get())

        if name.strip() == "":
            messagebox.showerror("Error", "Employee name cannot be empty")
            return

        if basic < 0 or allowance < 0 or deduction < 0:
            messagebox.showerror("Error", "Salary values cannot be negative")
            return

        cur.execute(
            "INSERT INTO employee VALUES (?, ?, ?, ?, ?)",
            (emp_id, name, basic, allowance, deduction)
        )
        conn.commit()

        messagebox.showinfo("Success", "Employee Added Successfully")
        clear_entries()

    except sqlite3.IntegrityError:
        messagebox.showerror("Error", "Employee ID already exists")
    except ValueError:
        messagebox.showerror("Error", "Enter valid values")


def calculate_salary():
    global table_visible
    try:
        emp_id = int(entry_id.get())

        cur.execute("SELECT * FROM employee WHERE emp_id=?", (emp_id,))
        data = cur.fetchone()

        if not data:
            messagebox.showerror("Error", "Employee Not Found")
            return

        emp_id, name, basic, allowance, deduction = data
        net_salary = basic + allowance - deduction

        # Fill entries
        entry_name.delete(0, tk.END)
        entry_basic.delete(0, tk.END)
        entry_allowance.delete(0, tk.END)
        entry_deduction.delete(0, tk.END)
        entry_net.delete(0, tk.END)

        entry_name.insert(0, name)
        entry_basic.insert(0, f"{basic:.2f}")
        entry_allowance.insert(0, f"{allowance:.2f}")
        entry_deduction.insert(0, f"{deduction:.2f}")
        entry_net.insert(0, f"{net_salary:.2f}")

        load_selected_employee(emp_id, name, basic, allowance, deduction, net_salary)

        if not table_visible:
            tree.pack(pady=20)
            view_btn.config(text="Hide Employees")
            table_visible = True

    except ValueError:
        messagebox.showerror("Error", "Enter a valid Employee ID")


def load_selected_employee(emp_id, name, basic, allowance, deduction, net_salary):
    for row in tree.get_children():
        tree.delete(row)

    tree.insert(
        "", tk.END,
        values=(
            emp_id, name,
            f"{basic:.2f}",
            f"{allowance:.2f}",
            f"{deduction:.2f}",
            f"{net_salary:.2f}",
        )
    )


def load_all_employees():
    for row in tree.get_children():
        tree.delete(row)

    cur.execute("SELECT * FROM employee")
    for row in cur.fetchall():
        net_salary = row[2] + row[3] - row[4]
        tree.insert(
            "", tk.END,
            values=(
                row[0], row[1],
                f"{row[2]:.2f}",
                f"{row[3]:.2f}",
                f"{row[4]:.2f}",
                f"{net_salary:.2f}",
            )
        )


def toggle_employees():
    global table_visible

    if table_visible:
        tree.pack_forget()
        view_btn.config(text="View Employees")
        table_visible = False
    else:
        load_all_employees()
        tree.pack(pady=20)
        view_btn.config(text="Hide Employees")
        table_visible = True


def clear_entries():
    entry_id.delete(0, tk.END)
    entry_name.delete(0, tk.END)
    entry_basic.delete(0, tk.END)
    entry_allowance.delete(0, tk.END)
    entry_deduction.delete(0, tk.END)
    entry_net.delete(0, tk.END)


def on_close():
    conn.close()
    root.destroy()


# ---------- GUI ----------
root = tk.Tk()
root.title("Company Employee Payroll System")
root.geometry("950x600")
root.configure(bg="#e6f2ff")
root.protocol("WM_DELETE_WINDOW", on_close)

tk.Label(
    root,
    text="Company Employee Payroll System",
    font=("Helvetica", 20, "bold"),
    fg="white",
    bg="#004080",
    pady=10
).pack(fill=tk.X)

frame = tk.Frame(root, bg="#cce6ff", pady=10)
frame.pack(pady=10, padx=10, fill=tk.X)

# Inputs
labels = [
    ("Employee ID", 0, 0),
    ("Employee Name", 1, 0),
    ("Basic Salary", 0, 2),
    ("Allowance", 1, 2),
    ("Deduction", 0, 4),
    ("Net Salary", 1, 4),
]

for text, r, c in labels:
    tk.Label(frame, text=text, bg="#cce6ff").grid(row=r, column=c)

entry_id = tk.Entry(frame)
entry_name = tk.Entry(frame)
entry_basic = tk.Entry(frame)
entry_allowance = tk.Entry(frame)
entry_deduction = tk.Entry(frame)
entry_net = tk.Entry(frame)

entry_id.grid(row=0, column=1)
entry_name.grid(row=1, column=1)
entry_basic.grid(row=0, column=3)
entry_allowance.grid(row=1, column=3)
entry_deduction.grid(row=0, column=5)
entry_net.grid(row=1, column=5)

# Buttons
tk.Button(frame, text="Add Employee", command=add_employee,
          bg="#0066cc", fg="white", width=15).grid(row=2, column=0, columnspan=2, pady=10)

tk.Button(frame, text="Calculate Salary", command=calculate_salary,
          bg="#009933", fg="white", width=15).grid(row=2, column=2, columnspan=2, pady=10)

view_btn = tk.Button(frame, text="View Employees",
                     command=toggle_employees,
                     bg="#cc3300", fg="white", width=20)
view_btn.grid(row=2, column=4, columnspan=2, pady=10)

# Table
columns = ("ID", "Name", "Basic", "Allowance", "Deduction", "Net Salary")
tree = ttk.Treeview(root, columns=columns, show="headings", height=6)

for col in columns:
    tree.heading(col, text=col)
    tree.column(col, width=140, anchor="center")

root.mainloop()
